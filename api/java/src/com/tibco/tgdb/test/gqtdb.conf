#
# Copyright (c) 2016-2020 TIBCO Software Inc.
# All rights reserved.
#
#  File name : gqt.conf
#  Created on: April 19, 2020
#  Created by: chung
#
#  SVN Id: $Id: $
#  Configuration file for TIBCO Graph Database Flight Routes Example Database
#
# For Detailed Documentation on the section properties see defaultdb.conf

# Database configuration section
[database]

#Database name, path, locale and timezone.
name        = gqt         # name of the database
dbPath      = ../data          # path of the database. Full or relative path.
locale      = en_US.UTF-8
timezone    = UTC

#############################################################################
###########  I N I T I Z A T I O N    C O N F I G U R A T I O N S ###########
#############################################################################
[segments]
segSize         = 1             # The unit is GB. Create Segments of 1Gb each. See storage characteristics documents
dataSegCnt      = 2             # Number of segments for data. Default is 2
dataPageSize    = 0             # Data Page size. Default is 512 Bytes
textPageSize    = 4             # Text pages for Blobs and Clobs. Default is 4K page.
indexSegCnt     = 1             # Number of segments for index
idxPageSize     = 8             # Index Page size. Default is 8K

[security]
sysuser         = admin
syspasswd       = admin
sysciphersuite  = AES256-SHA256
syscipherbits   = 1024
sysciphercurve  = secp521r1

[attrtypes]
batchid         = @type:string
cdiid           = @type:string
itemid          = @type:string
itemname        = @type:string
groupid         = @type:int
prodid          = @type:string
quantity        = @type:int
workcenter      = @type:string
machine         = @type:string
createddatetime = @type:timestamp
enddatetime     = @type:timestamp
dataareaid      = @type:string
airlineID   = @type:string
airportID   = @type:string
name        = @type:string
iataCode    = @type:string
icaoCode    = @type:string
country     = @type:string
airlineActive = @type:boolean
city        = @type:string

[nodetypes]
cdibatch = @attrs:batchid @pkey:batchid
cdi = @attrs:cdiid,itemid,itemname,groupid,prodid @pkey:cdiid
product = @attrs:prodid @pkey:prodid
workcenterType = @attrs:workcenter @pkey:workcenter
machineType = @attrs:machine @pkey:machine
airlineType = @attrs:airlineID,name,iataCode,icaoCode,country,airlineActive @pkey:airlineID
airportType = @attrs:airportID,name,city,country,iataCode,icaoCode @pkey:airportID

[edgetypes]
contains = @direction:DIRECTED @fromnode:cdibatch @tonode:cdi @attrs:createddatetime,enddatetime
produces = @direction:DIRECTED @fromnode:cdi @tonode:cdi @attrs:quantity,workcenter,machine,createddatetime,enddatetime
routeType = @direction:Directed @fromnode:airportType @tonode:airportType @attrs:airlineID,name,iataCode
uses = @direction:Directed @fromnode:workcenterType @tonode:machineType
makes = @direction:Directed @fromnode:machineType @tonode:cdi @attrs:createddatetime,enddatetime
batches = @direction:Directed @fromnode:workcenterType @tonode:cdibatch
kindof = @direction:Directed @fromnode:cdi @tonode:product @attrs:prodid

[indices]
iataCodeAirportIdx = @attrs:iataCode @unique:true @ontype:airportType

[roles]
limitqry = @perms:x|all,r|airportType|iataCode|city|routeType|cdi|cdiid|itemname|contains|workcenterType|machineType|makes|batches

[users]
scott = @passwd:scott @roles:user
john  = @passwd:john  @roles:operator
joe = @passwd:joe @roles:limitqry

#############################################################################
###############  R U N T I M E    C O N F I G U R A T I O N S ###############
#############################################################################
[cache]
Applicability   = Runtime
#cachepct        = 60
cachepct        = 100
strategy        = lru
index.cachepct  = 25
index.threshold = 75, 85
data.cachepct   = 25
data.threshold  = 70, 80
shared.cachepct = 10
shared.threshold = 80, 90
query.cachepct  = 40
query.threshold = 80, 90

[wal]
useSharedMemory = true
redoQDepth      = 1000
numRetries      = 16
timeout         = 1

[processors]
numTxnProcessors = 2
numQryProcessors = 4
queueDepth      = 16

[import]
dir = ../examples/routes/import
loadopts = insert
erroropts = stop
dtformat = ymd
airlineType = @attrs:airlineID,name,iataCode,icaoCode,country,airlineActive @files:airlineType.csv
airportType = @attrs:airportID,name,city,country,iataCode,icaoCode @files:airportType.csv
routeType = @attrs:airlineID,name,iataCode @files:routeType.csv

[storedproc]
pythonpath      = .
dir             = ../examples/hierarchy/storedproc
autorefresh     = false
refreshinterval = 60
